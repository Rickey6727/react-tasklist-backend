'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.snake2camel = exports.camel2snake = exports.strFormat = exports.normalizeStyle = exports.getMonthCalendar = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**
                                                                                                                                                                                                                                                                   * libralies for the DatePicker
                                                                                                                                                                                                                                                                   * @file
                                                                                                                                                                                                                                                                   */

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 指定した月のカレンダーを返してくれます
 * @param  {number} year  year
 * @param  {number} month month
 * @return {array<{day:number, month:number, active:boolean, weekday:string, isHoliday:boolean}>} day information object
 */
var getMonthCalendar = exports.getMonthCalendar = function getMonthCalendar(year, month) {
  var monthDays = [];
  var idx = (0, _moment2.default)([year, month - 1, 1]);
  idx.subtract(idx.weekday(), 'days').calendar();

  // 第1週から第6週までをイテレート
  for (var i = 0; i < 6; i++) {
    monthDays.push([]);
    // 日曜から土曜までをいてレート
    for (var j = 0; j < 7; j++) {
      monthDays[i].push({
        day: idx.date(),
        month: idx.month() + 1,
        year: idx.year(),
        active: idx.month() + 1 == month,
        weekday: _config2.default.weekLabels.en[idx.weekday()],
        isHoliday: _config2.default.holidays.indexOf(idx.format('YYYY-MM-DD')) > 0
      });
      idx.add(1, 'days');
    }
  }
  return monthDays;
};

/**
 * normalize style object
 * @param  {object} style normalizing style object
 * @return {object} normalized style object
 */
var normalizeStyle = exports.normalizeStyle = function normalizeStyle(style) {

  // acceptable pseudo class
  var pseudoClasses = ['hover', 'focus'];
  /**
   * check if is a prop is pseudo class
   * @param  {string}  prop propery. if isPseudoClass, it might be like :hover
   * @return {boolean}      result
   */
  var isPseudoClass = function isPseudoClass(prop) {
    return pseudoClasses.map(function (pseudoClass) {
      return ':' + pseudoClass;
    }).includes(prop);
  };

  var result = {};

  Object.keys(style).forEach(function (slug) {
    result[slug] = {};

    // prepare in case without those pseudo calsses
    pseudoClasses.map(function (pseudoClass) {
      return ':' + pseudoClass;
    }).forEach(function (prop) {
      if (!style[slug][prop]) {
        result[slug + prop] = _extends({}, style[slug], style[slug][prop]);
      }
    });

    // merge, flatten and spread nested properies
    var props = Object.keys(style[slug]);
    props.forEach(function (prop) {
      if (isPseudoClass(prop)) {
        result[slug + prop] = _extends({}, style[slug], style[slug][prop]);
      } else {
        result[slug][prop] = style[slug][prop];
      }
    });
  });

  // cleanup nested pseudo class
  Object.keys(result).forEach(function (slug) {
    Object.keys(result[slug]).forEach(function (prop) {
      if (isPseudoClass(prop)) {
        delete result[slug][prop];
      }
    });
  });

  return result;
};

/**
 * formatter
 * @param  {string} format str including {word}
 * @param  {object} args   give varables in { word: 'value' }
 * @return {string}        formatted text
 */
var strFormat = exports.strFormat = function strFormat(format, args) {
  return format.replace(/\{(\w+)\}/g, function (x, matched) {
    return args[matched];
  });
};

/**
 * convert camel case to snake case
 * @param  {string} camel lowerCamelCaseString
 * @return {string}       snake-case-string
 */
var camel2snake = exports.camel2snake = function camel2snake(camel) {
  return camel.replace(/[A-Z]/g, function (str) {
    return '-' + str.toLowerCase();
  });
};

/**
 * convert snake case to camel case
 * @param  {string} snake lowerCamelCaseString
 * @return {string}       snake-case-string
 */
var snake2camel = exports.snake2camel = function snake2camel(snake) {
  return snake.replace(/-[a-zA-Z]/g, function (str) {
    return str[1].toUpperCase();
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jYWxjLmpzIl0sIm5hbWVzIjpbImdldE1vbnRoQ2FsZW5kYXIiLCJ5ZWFyIiwibW9udGgiLCJtb250aERheXMiLCJpZHgiLCJzdWJ0cmFjdCIsIndlZWtkYXkiLCJjYWxlbmRhciIsImkiLCJwdXNoIiwiaiIsImRheSIsImRhdGUiLCJhY3RpdmUiLCJ3ZWVrTGFiZWxzIiwiZW4iLCJpc0hvbGlkYXkiLCJob2xpZGF5cyIsImluZGV4T2YiLCJmb3JtYXQiLCJhZGQiLCJub3JtYWxpemVTdHlsZSIsInBzZXVkb0NsYXNzZXMiLCJpc1BzZXVkb0NsYXNzIiwibWFwIiwicHNldWRvQ2xhc3MiLCJpbmNsdWRlcyIsInByb3AiLCJyZXN1bHQiLCJPYmplY3QiLCJrZXlzIiwic3R5bGUiLCJmb3JFYWNoIiwic2x1ZyIsInByb3BzIiwic3RyRm9ybWF0IiwiYXJncyIsInJlcGxhY2UiLCJ4IiwibWF0Y2hlZCIsImNhbWVsMnNuYWtlIiwiY2FtZWwiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsInNuYWtlMmNhbWVsIiwic25ha2UiLCJ0b1VwcGVyQ2FzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztrUUFBQTs7Ozs7QUFLQTs7OztBQUNBOzs7Ozs7QUFFQTs7Ozs7O0FBTU8sSUFBTUEsOENBQW1CLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsSUFBRCxFQUFPQyxLQUFQLEVBQWlCO0FBQy9DLE1BQU1DLFlBQVksRUFBbEI7QUFDQSxNQUFNQyxNQUFNLHNCQUFPLENBQUNILElBQUQsRUFBT0MsUUFBUSxDQUFmLEVBQWtCLENBQWxCLENBQVAsQ0FBWjtBQUNBRSxNQUFJQyxRQUFKLENBQWFELElBQUlFLE9BQUosRUFBYixFQUE0QixNQUE1QixFQUFvQ0MsUUFBcEM7O0FBRUE7QUFDQSxPQUFLLElBQUlDLElBQUksQ0FBYixFQUFpQkEsSUFBSSxDQUFyQixFQUF5QkEsR0FBekIsRUFBK0I7QUFDN0JMLGNBQVVNLElBQVYsQ0FBZSxFQUFmO0FBQ0E7QUFDQSxTQUFLLElBQUlDLElB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QU1DLG9DQUFjLFNBQWRBLFdBQWM7QUFBQSxTQUFTQyxNQUNqQ0osT0FEaUMsQ0FDekIsUUFEeUIsRUFDZjtBQUFBLFdBQU8sTUFBTUssSUFBSUMsV0FBSixFQUFiO0FBQUEsR0FEZSxDQUFUO0FBQUEsQ0FBcEI7O0FBR1A7Ozs7O0FBS08sSUFBTUMsb0NBQWMsU0FBZEEsV0FBYztBQUFBLFNBQVNDLE1BQ2pDUixPQURpQyxDQUN6QixZQUR5QixFQUNYO0FBQUEsV0FBT0ssSUFBSSxDQUFKLEVBQU9JLFdBQVAsRUFBUDtBQUFBLEdBRFcsQ0FBVDtBQUFBLENBQXBCIiwiZmlsZSI6ImNhbGMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGxpYnJhbGllcyBmb3IgdGhlIERhdGVQaWNrZXJcbiAqIEBmaWxlXG4gKi9cblxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xuXG4vKipcbiAqIOaMh+WumuOBl+OBn+aciOOBruOCq+ODrOODs+ODgOODvOOCkui/lOOBl+OBpuOBj+OCjOOBvuOBmVxuICogQHBhcmFtICB7bnVtYmVyfSB5ZWFyICB5ZWFyXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG1vbnRoIG1vbnRoXG4gKiBAcmV0dXJuIHthcnJheTx7ZGF5Om51bWJlciwgbW9udGg6bnVtYmVyLCBhY3RpdmU6Ym9vbGVhbiwgd2Vla2RheTpzdHJpbmcsIGlzSG9saWRheTpib29sZWFufT59IGRheSBpbmZvcm1hdGlvbiBvYmplY3RcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE1vbnRoQ2FsZW5kYXIgPSAoeWVhciwgbW9udGgpID0+IHtcbiAgY29uc3QgbW9udGhEYXlzID0gW11cbiAgY29uc3QgaWR4ID0gbW9tZW50KFt5ZWFyLCBtb250aCAtIDEsIDFdKVxuICBpZHguc3VidHJhY3QoaWR4LndlZWtkYXkoKSwgJ2RheXMnKS5jYWxlbmRhcigpXG5cbiAgLy8g56ysMemAseOBi+OCieesrDbpgLHjgb7jgafjgpLjgqTjg4bjg6zjg7zjg4hcbiAgZm9yICh2YXIgaSA9IDAgOyBpIDwgNiA7IGkrKyApIHtcbiAgICBtb250aERheXMucHVzaChbXSlcbiAgICAvLyDml6Xmm5zjgYvjgonlnJ/mm5zjgb7jgafjgpLjgYTjgabjg6zjg7zjg4hcbiAgICBmb3IgKHZhciBqID0gMCA7IGogPCA3IDsgaisrICkge1xuICAgICAgbW9udGhEYXlzW2ldLnB1c2goe1xuICAgICAgICBkYXkgICAgICAgOiBpZHguZGF0ZSgpLFxuICAgICAgICBtb250aCAgICAgOiBpZHgubW9udGgoKSArIDEsXG4gICAgICAgIHllYXIgICAgICA6IGlkeC55ZWFyKCksXG4gICAgICAgIGFjdGl2ZSAgICA6IChpZHgubW9udGgoKSArIDEgPT0gbW9udGgpLFxuICAgICAgICB3ZWVrZGF5ICAgOiBjb25maWcud2Vla0xhYmVscy5lbltpZHgud2Vla2RheSgpXSxcbiAgICAgICAgaXNIb2xpZGF5IDogY29uZmlnLmhvbGlkYXlzLmluZGV4T2YoaWR4LmZvcm1hdCgnWVlZWS1NTS1ERCcpKSA+IDBcbiAgICAgIH0pXG4gICAgICBpZHguYWRkKDEsICdkYXlzJylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vbnRoRGF5c1xufVxuXG4vKipcbiAqIG5vcm1hbGl6ZSBzdHlsZSBvYmplY3RcbiAqIEBwYXJhbSAge29iamVjdH0gc3R5bGUgbm9ybWFsaXppbmcgc3R5bGUgb2JqZWN0XG4gKiBAcmV0dXJuIHtvYmplY3R9IG5vcm1hbGl6ZWQgc3R5bGUgb2JqZWN0XG4gKi9cbmV4cG9ydCBjb25zdCBub3JtYWxpemVTdHlsZSA9IHN0eWxlID0+IHtcblxuICAvLyBhY2NlcHRhYmxlIHBzZXVkbyBjbGFzc1xuICBjb25zdCBwc2V1ZG9DbGFzc2VzID0gWydob3ZlcicsICdmb2N1cyddXG4gIC8qKlxuICAgKiBjaGVjayBpZiBpcyBhIHByb3AgaXMgcHNldWRvIGNsYXNzXG4gICAqIEBwYXJhbSAge3N0cmluZ30gIHByb3AgcHJvcGVyeS4gaWYgaXNQc2V1ZG9DbGFzcywgaXQgbWlnaHQgYmUgbGlrZSA6aG92ZXJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICByZXN1bHRcbiAgICovXG4gIGNvbnN0IGlzUHNldWRvQ2xhc3MgPSBwcm9wID0+IHBzZXVkb0NsYXNzZXNcbiAgICAubWFwKHBzZXVkb0NsYXNzID0+IGA6JHtwc2V1ZG9DbGFzc31gKVxuICAgIC5pbmNsdWRlcyhwcm9wKVxuXG4gIGNvbnN0IHJlc3VsdCA9IHt9XG5cbiAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goc2x1ZyA9PiB7XG4gICAgcmVzdWx0W3NsdWddID0ge31cblxuICAgIC8vIHByZXBhcmUgaW4gY2FzZSB3aXRob3V0IHRob3NlIHBzZXVkbyBjYWxzc2VzXG4gICAgcHNldWRvQ2xhc3Nlcy5tYXAocHNldWRvQ2xhc3MgPT4gYDoke3BzZXVkb0NsYXNzfWApLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBpZiAoIXN0eWxlW3NsdWddW3Byb3BdKSB7XG4gICAgICAgIHJlc3VsdFtzbHVnICsgcHJvcF0gPSB7IC4uLnN0eWxlW3NsdWddLCAuLi5zdHlsZVtzbHVnXVtwcm9wXSB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIG1lcmdlLCBmbGF0dGVuIGFuZCBzcHJlYWQgbmVzdGVkIHByb3Blcmllc1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXMoc3R5bGVbc2x1Z10pXG4gICAgcHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIGlmIChpc1BzZXVkb0NsYXNzKHByb3ApKSB7XG4gICAgICAgIHJlc3VsdFtzbHVnICsgcHJvcF0gPSB7IC4uLnN0eWxlW3NsdWddLCAuLi5zdHlsZVtzbHVnXVtwcm9wXSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbc2x1Z11bcHJvcF0gPSBzdHlsZVtzbHVnXVtwcm9wXVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gY2xlYW51cCBuZXN0ZWQgcHNldWRvIGNsYXNzXG4gIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChzbHVnID0+IHtcbiAgICBPYmplY3Qua2V5cyhyZXN1bHRbc2x1Z10pLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBpZiAoaXNQc2V1ZG9DbGFzcyhwcm9wKSkge1xuICAgICAgICBkZWxldGUgcmVzdWx0W3NsdWddW3Byb3BdXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8qKlxuICogZm9ybWF0dGVyXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZvcm1hdCBzdHIgaW5jbHVkaW5nIHt3b3JkfVxuICogQHBhcmFtICB7b2JqZWN0fSBhcmdzICAgZ2l2ZSB2YXJhYmxlcyBpbiB7IHdvcmQ6ICd2YWx1ZScgfVxuICogQHJldHVybiB7c3RyaW5nfSAgICAgICAgZm9ybWF0dGVkIHRleHRcbiAqL1xuZXhwb3J0IGNvbnN0IHN0ckZvcm1hdCA9IChmb3JtYXQsIGFyZ3MpID0+IGZvcm1hdFxuICAucmVwbGFjZSgvXFx7KFxcdyspXFx9L2csICh4LCBtYXRjaGVkKSA9PiBhcmdzW21hdGNoZWRdKVxuXG4vKipcbiAqIGNvbnZlcnQgY2FtZWwgY2FzZSB0byBzbmFrZSBjYXNlXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNhbWVsIGxvd2VyQ2FtZWxDYXNlU3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgIHNuYWtlLWNhc2Utc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBjYW1lbDJzbmFrZSA9IGNhbWVsID0+IGNhbWVsXG4gIC5yZXBsYWNlKC9bQS1aXS9nLCBzdHIgPT4gJy0nICsgc3RyLnRvTG93ZXJDYXNlKCkpXG5cbi8qKlxuICogY29udmVydCBzbmFrZSBjYXNlIHRvIGNhbWVsIGNhc2VcbiAqIEBwYXJhbSAge3N0cmluZ30gc25ha2UgbG93ZXJDYW1lbENhc2VTdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgc25ha2UtY2FzZS1zdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHNuYWtlMmNhbWVsID0gc25ha2UgPT4gc25ha2VcbiAgLnJlcGxhY2UoLy1bYS16QS1aXS9nLCBzdHIgPT4gc3RyWzFdLnRvVXBwZXJDYXNlKCkpXG4iXX0=